env: # Environt variable to pass to all tasks
    CIRRUS_CLONE_DEPTH: 1 # No need to clone with whole history
    CIRRUS_WORKING_DIR: "/tmp/ci/" # Where to clone repo

    # For rclone with google drive or any cloud! After first commit pushing, login to https://cirrus-ci.com , click top left corner 3 dot menu, click repository(yourname/aosp-builder) > Repository Settings > Secured Variables > enter content of rclone.conf > ENCRYPT, copy that ENCRYPTED hash
    # ENCRYPTED variables is unique for every repository, so you cant use my one, create you rclone config https://rclone.org/drive/#making-your-own-client-id
    rclone_config: "ENCRYPTED[b761285c690b53f83582122de59cf30a39d96d12e020787c1fb191605fe107cb7ad93e941916a209581017014a907956"

task:
    name: test
    timeout_in: 120m 
    container:
      image: apon77/aosp:latest
      cpu: 10
      memory: 24G
    ccache script:
      - bash download_ccache
    zram_script:
      - bash zram
    sync_script:
      - bash setup
    monitor script:
      - bash monitor
    build_script: 
      - bash build 
    upload ccache script:
      - bash upload_ccache
    upload_script: 
      - bash upload

